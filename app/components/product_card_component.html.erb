<div class="bg-white rounded-xl shadow-md overflow-hidden transition-transform hover:shadow-lg">
  <%= link_to [@product.store, @product], class: "block", data: {turbo: false} do %>
    <div class="relative h-48 overflow-hidden">
      <% if @product.images.any? %>
        <%= image_tag @product.images.first.variant(:thumb),
        class: "w-full h-full object-cover object-center" %>
      <% end %>
    </div>
  <% end %>
  
  <div class="p-4">
    <h3 class="text-lg font-semibold mb-1 truncate"><%= @product.name %></h3>
    <p class="text-indigo-700 font-medium mb-3"><%= number_to_currency(@product.price) %></p>

    <div class="flex flex-col sm:flex-row gap-2">
      <%= button_to "Add To Cart",
      user_cart_path(helpers.active_user),
      params: {
        user_entity: helpers.active_user.class.name,
        product_id: @product.id,
        quantity: 1,
      },
      data: {
        turbo: false,
      },
      method: :patch,
      class: "px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center text-sm" %>
      
      <%= link_to "View More",
      [@product.store, @product],
      data: {
        turbo: false,
      },
      class: "px-4 py-2 border border-gray-300 rounded-md font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center text-sm" %>
    </div>
  </div>
</div>
